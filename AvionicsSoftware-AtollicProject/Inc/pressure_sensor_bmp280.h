#ifndef PRESSURE_SENSOR_BMP280_H
#define PRESSURE_SENSOR_BMP280_H
//-------------------------------------------------------------------------------------------------------------------------------------------------------------
// pressure_sensor_bmp280.h
// UMSATS 2018-2020
//
// Repository:
//  UMSATS > Avionics 2019
//
// File Description:
//  Control and usage of BMP280 sensor inside of RTOS task.
//
// History
// 2019-03-04 Eric Kapilik
// - Created.
//-------------------------------------------------------------------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------------------------------------------------------------------
// INCLUDES
//-------------------------------------------------------------------------------------------------------------------------------------------------------------
#include "bmp280.h"
#include "stm32f4xx_hal_uart_io.h"
#include "FreeRTOS.h"
#include "task.h"
#include "SPI.h"
//-------------------------------------------------------------------------------------------------------------------------------------------------------------
// DEFINITIONS AND MACROS
//-------------------------------------------------------------------------------------------------------------------------------------------------------------
#define TIMEOUT 100 // milliseconds

//-------------------------------------------------------------------------------------------------------------------------------------------------------------
// ENUMS AND ENUM TYPEDEFS
//-------------------------------------------------------------------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------------------------------------------------------------------
// STRUCTS AND STRUCT TYPEDEFS
//-------------------------------------------------------------------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------------------------------------------------------------------
// TYPEDEFS
//-------------------------------------------------------------------------------------------------------------------------------------------------------------

//-------------------------------------------------------------------------------------------------------------------------------------------------------------
// CONSTANTS
//-------------------------------------------------------------------------------------------------------------------------------------------------------------


//-------------------------------------------------------------------------------------------------------------------------------------------------------------
// FUNCTION PROTOTYPES
//-------------------------------------------------------------------------------------------------------------------------------------------------------------
//-------------------------------------------------------------------------------------------------------------------------------------------------------------
// Description:
//  Task for BMP280 sensor.
//    - initializes sensor
//    - read data & print to UART screen cycle
//
// Returns:
//  VOID
//-------------------------------------------------------------------------------------------------------------------------------------------------------------
void vTask_pressure_sensor(void *pvParameters);

//-------------------------------------------------------------------------------------------------------------------------------------------------------------
// Description:
//  Captures pressure reading (32 bit precision) from BMP280 sensor.
//
// Returns:
//  uint32_t - 32 bit precision pressure measurement
//-------------------------------------------------------------------------------------------------------------------------------------------------------------
uint32_t bmp280_get_32press(struct bmp280_dev bmp);

//-------------------------------------------------------------------------------------------------------------------------------------------------------------
// Description:
//  Captures pressure reading (64 bit precision) from BMP280 sensor.
//
// Returns:
//  uint64_t - 64 bit precision pressure measurement
//-------------------------------------------------------------------------------------------------------------------------------------------------------------
uint32_t bmp280_get_64press(struct bmp280_dev bmp);

#endif // PRESSURE_SENSOR_BMP280_H
